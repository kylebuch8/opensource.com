<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Opensource.com">
  <title>Opensource.com</title>
  <link rel="stylesheet" href="https://unpkg.com/@patternfly/pfe-styles@latest/dist/pfe-layouts.min.css">
  <link rel="stylesheet" href="https://unpkg.com/@patternfly/pfe-styles@latest/dist/pfe-base.min.css">
  <link rel="stylesheet" href="https://unpkg.com/@patternfly/pfelement@latest/dist/pfelement.min.css">
  <link rel="stylesheet" href="https://unpkg.com/@patternfly/pfe-navigation@latest/dist/pfe-navigation--lightdom.min.css">
  <script type="module" src="https://unpkg.com/@patternfly/pfe-navigation@latest/dist/pfe-navigation.min.js"></script>
  <script type="module" src="https://unpkg.com/@patternfly/pfe-band@latest/dist/pfe-band.min.js"></script>
  <script type="module" src="https://unpkg.com/@patternfly/pfe-jump-links@latest/dist/pfe-jump-links.min.js"></script>
  <script type="module" src="https://unpkg.com/@patternfly/pfe-codeblock@latest/dist/pfe-codeblock.min.js"></script>
  <script type="module" src="https://unpkg.com/@patternfly/pfe-datetime@latest/dist/pfe-datetime.min.js"></script>
  <style>
    :root {
      --pfe-theme--color--ui-accent: #0098C3;
      --pfe-theme--color--surface--accent: #005172; 
    }

    pfe-navigation {
      --pfe-navigation--BackgroundColor: #005172;
      --pfe-theme--color--feedback--default: #ccc;
    }

    a[slot="logo"] {
      position: relative;
      top: 5px;
    }
  </style>
</head>
<body unresolved>
  <header>
    <pfe-navigation pfe-menu-label="Menu">
      <div slot="skip">
        <ul>
          <li><a href="#main-content">Skip to content</a></li>
        </ul>
      </div>
      <a slot="logo" href="/">
        <img alt="Opensource.com logo" class="logo" src="https://opensource.com/sites/all/themes/opensource/logo.svg" title="Opensource.com" />
      </a>
      <pfe-navigation-item slot="search" pfe-icon="web-search">
        <h2 slot="trigger"><a href="#url-to-search-page">Search</a></h2>
        <div slot="tray" hidden>
          <div class="pfe-navigation-item__tray--container">
            <form>
              <input type="text" name="search" value="" placeholder="Enter your search term"
                style="height: 30px; width: 60%; margin-right: 10px;">
              <pfe-cta priority="primary"><a href="#">Search</a></pfe-cta>
            </form>
          </div>
        </div>
      </pfe-navigation-item>
      <form slot="mobile-search" hidden>
        <input type="text" name="search" value="" placeholder="Enter your search term"
          style="height: 30px; width: 60%; margin-right: 10px;">
        <pfe-cta priority="primary"><a href="http://www.google.com">Search</a></pfe-cta>
      </form>
      <pfe-navigation-main role="navigation" aria-label="Main">
        <ul>
          <li>
            <pfe-navigation-item>
              <h3 slot="trigger">
                <a href="#">Articles</a>
              </h3>
              <div slot="tray" hidden>
                <div class="pfe-navigation-item__tray--container">
                  <div class="pfe-navigation-grid">
                    <div class="pfe-navigation--column">
                      <div class="pfe-link-list">
                        <h4 class="pfe-link-list--header">List header</h4>
                        <ul class="pfe-link-list--group">
                          <li class="pfe-link-list--group-item"><a href="#">Item 1</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 2</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 3</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 4</a></li>
                        </ul>
                      </div>
                    </div>
                    <div class="pfe-navigation--column">
                      <div class="pfe-link-list">
                        <h4 class="pfe-link-list--header">List header 2</h4>
                        <ul class="pfe-link-list--group">
                          <li class="pfe-link-list--group-item"><a href="#">Item 1</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 2</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 3</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 4</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                  <div class="pfe-navigation--footer">
                    <div class="pfe-navigation--column">
                      <pfe-cta priority="primary"><a href="#">View all products</a></pfe-cta>
                    </div>
                    <div class="pfe-navigation--column">
                      <pfe-cta><a href="#">Explore our portfolio</a></pfe-cta>
                    </div>
                    <div class="pfe-navigation--column">
                      <pfe-cta><a href="#">Buy products online</a></pfe-cta>
                    </div>
                    <div class="pfe-navigation--column">
                      <pfe-cta><a href="#">Subscription model</a></pfe-cta>
                    </div>
                  </div>
                </div>
              </div>
            </pfe-navigation-item>
          </li>
          <li>
            <pfe-navigation-item>
              <h3 slot="trigger">
                <a href="#">Resources</a>
              </h3>
              <div slot="tray" hidden>
                <div class="pfe-navigation-item__tray--container">
                  <div class="pfe-navigation-grid">
                    <div class="pfe-navigation--column">
                      <div class="pfe-link-list">
                        <h4 class="pfe-link-list--header">Another List header</h4>
                        <ul class="pfe-link-list--group">
                          <li class="pfe-link-list--group-item"><a href="#">Item 1</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 2</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 3</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 4</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </pfe-navigation-item>
          </li>
          <li>
            <pfe-navigation-item>
              <h3 slot="trigger">
                <a href="#">Downloads</a>
              </h3>
              <div slot="tray" hidden>
                <div class="pfe-navigation-item__tray--container">
                  <div class="pfe-navigation-grid">
                    <div class="pfe-navigation--column">
                      <div class="pfe-link-list">
                        <h4 class="pfe-link-list--header">Another List header</h4>
                        <ul class="pfe-link-list--group">
                          <li class="pfe-link-list--group-item"><a href="#">Item 1</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 2</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 3</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 4</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </pfe-navigation-item>
          </li>
          <li>
            <pfe-navigation-item>
              <h3 slot="trigger">
                <a href="#">About</a>
              </h3>
              <div slot="tray" hidden>
                <div class="pfe-navigation-item__tray--container">
                  <div class="pfe-navigation-grid">
                    <div class="pfe-navigation--column">
                      <div class="pfe-link-list">
                        <h4 class="pfe-link-list--header">Another List header</h4>
                        <ul class="pfe-link-list--group">
                          <li class="pfe-link-list--group-item"><a href="#">Item 1</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 2</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 3</a></li>
                          <li class="pfe-link-list--group-item"><a href="#">Item 4</a></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </pfe-navigation-item>
          </li>
        </ul>
      </pfe-navigation-main>
      <pfe-navigation-item slot="login" pfe-icon="web-user">
        <h2 slot="trigger"><a href="https://opensource.com/user/login?destination=node/31931">Log in</a></h2>
      </pfe-navigation-item>
      <a href="https://opensource.com/user/login?destination=node/31931" slot="mobile-login" pfe-icon="web-user">Login/Register</a>
      <pfe-navigation-item slot="site-switcher" pfe-icon="web-grid-3x3">
        <h2 slot="trigger"><a href="http://www.bat.com">Websites</a></h2>
        <div slot="tray" hidden>
          <div class="pfe-navigation-item__tray--container">
            <h3>Site switcher tray</h3>
          </div>
        </div>
      </pfe-navigation-item>
    </pfe-navigation>    
  </header>
  <main id="main-content">
    <article>
      <pfe-band>
        <div class="pfe-l-grid pfe-m-gutters pfe-m-all-6-col">
          <img alt="" src="https://opensource.com/sites/default/files/styles/image-full-size/public/lead-images/car-penguin-drive-linux-yellow.png?itok=twWGlYAc">
          <div>
            <h1>4 Linux technologies fundamental to containers</h1>
            <p>Namespaces, cgroups, seccomp, and SELinux are the Linux technologies that make up the foundations of building and running a container process on your system.</p>
            <pfe-datetime
              timestamp="1630608417"
              type="local"
              day="numeric"
              month="long"
              year="numeric">
            </pfe-datetime>
          </div>
        </div>
      </pfe-band>
      <pfe-band color="lightest">
        <div class="pfe-l-grid pfe-m-gutters">
          <div class="pfe-l-grid__item pfe-m-12-col pfe-m-9-col-on-lg">
            <pfe-jump-links-panel scrolltarget="jumplinks">
              <p>In previous articles, I have written about container images and runtimes. In this article, I look at how containers are made possible by a foundation of some special Linux technologies, including namespaces and control groups.</p>
              <h2 class="pfe-jump-links-panel__section has-sub-section" id="namespaces">Namespaces</h2>
              <p>Namespaces provide a layer of isolation for the containers by giving the container a view of what appears to be its own Linux filesystem. This limits what a process can see and therefore restricts the resources available to it.</p>
              <p>There are several namespaces in the Linux kernel that are used by Docker or Podman and others while creating a container:</p>
              <pfe-codeblock>
                <pre codeblock-container>
                  <code>
$ docker container run alpine ping 8.8.8.8
$ sudo lsns -p 29413
        NS TYPE   NPROCS PID USER COMMAND
4026531835 cgroup   299   1  root /usr/lib/systemd/systemd --
switched...
4026533105 mnt 1 29413 root ping 8.8.8.8
4026533106 uts 1 29413 root ping 8.8.8.8
4026533105 ipc 1 29413 root ping 8.8.8.8
[...]
                  </code>
                </pre>
              </pfe-codeblock>              
              <h3 class="pfe-jump-links-panel__section sub-section" id="user">User</h3>
              <p>The user namespace isolates users and groups within a container. This is done by allowing containers to have a different view of UID and GID ranges compared to the host system. The user namespace enables the software to run inside the container as the root user. If an intruder attacks the container and then escapes to the host machine, they're confined to only a non-root identity.</p>
              <h3 class="pfe-jump-links-panel__section sub-section" id="mnt">Mnt</h3>
              <p>The mnt namespace allows the containers to have their own view of the system's file system hierarchy. You can find the mount points for each container process in the <i>/proc/&lt;PID&gt;/mounts</i> location in your Linux system.</p>
              <h3 class="pfe-jump-links-panel__section sub-section" id="uts">UTS</h3>
              <p>The Unix Timesharing System (UTS) namespace allows containers to have a unique hostname and domain name. When you run a container, a random ID is used as the hostname even when using the — name tag. You can use the unshare command to get an idea of how this works.</p>
              <h3 class="pfe-jump-links-panel__section sub-section" id="ipc">IPC</h3>
              <p>The Inter-Process Communication (IPC) namespace allows different container processes to communicate by accessing a shared range of memory or using a shared message queue.</p>
              <h3 class="pfe-jump-links-panel__section sub-section" id="pid">PID</h3>
              <p>The Process ID (PID) namespace ensures that the processes running inside a container are isolated from the external world. When you run a ps command inside a container, you only see the processes running inside the container and not on the host machine because of this namespace.</p>
              <h3 class="pfe-jump-links-panel__section sub-section" id="net">Net</h3>
              <p>The network namespace allows the container to have its own view of network interface, IP addresses, routing tables, port numbers, and so on. How does a container able to communicate to the external world? All containers you create get attached to a special virtual network interface for communication.</p>
              <h2 class="pfe-jump-links-panel__section" id="cgroups">Control groups (cgroups)</h2>
              <p>Cgroups are fundamental blocks of making a container. A cgroup allocates and limits resources such as CPU, memory, network I/O that are used by containers. The container engine automatically creates a cgroup filesystem of each type, and sets values for each container when the container is run.</p>
              <h2 class="pfe-jump-links-panel__section" id="seccomp">SECCOMP</h2>
              <p>Seccomp basically stands for secure computing. It is a Linux feature used to restrict the set of system calls that an application is allowed to make. The default seccomp profile for Docker, for example, disables around 44 syscalls (over 300 are available).</p>
              <p>The idea here is to provide containers access to only those resources which the container might need. For example, if you don't need the container to change the clock time on your host machine, you probably have no use for the clock_adjtime and clock_settime syscalls, and it makes sense to block them out. Similarly, you don't want the containers to change the kernel modules, so there is no need for them to make create_module, delete_module syscalls.</p>
              <h2 class="pfe-jump-links-panel__section" id="selinux">SELinux</h2>
              <p>SELinux stands for security-enhanced Linux. If you are running a Red Hat distribution on your hosts, then SELinux is enabled by default. SELinux lets you limit an application to have access only to its own files and prevent any other processes from accessing them. So, if an application is compromised, it would limit the number of files that it can affect or control. It does this by setting up contexts for files and processes and by defining policies that would enforce what a process can see and make changes to.</p>
              <p>SELinux policies for containers are defined by the container-selinux package. By default, containers are run with the container_t label and are allowed to read (r) and execute (x) under the /usr directory and read most content from the /etc directory. The label container_var_lib_t is common for files relating to containers.</p>
              <h2 class="pfe-jump-links-panel__section" id="wrap-up">Wrap up</h2>
              <p>Containers are a critical part of today's IT infrastructure and a pretty interesting technology, too. Even if your role doesn't involve containerization directly, understanding a few fundamental container concepts and approaches gives you an appreciation for how they can help your organization. The fact that containers are built on open source Linux technologies makes them even better!</p>
            </pfe-jump-links-panel>
          </div>
          <div class="pfe-l-grid__item pfe-m-12-col pfe-m-3-col-on-lg">
            <pfe-jump-links-nav autobuild id="jumplinks" sr-text="Page navigation">
              <h4 slot="heading">Page navigation</h4>
            </pfe-jump-links-nav>
          </div>
        </div>
      </pfe-band>
    </article>
  </main>
  <footer>
    <pfe-band color="accent">
      <div class="pfe-l-grid pfe-m-gutters">
        <div class="pfe-l-grid__item pfe-m-10-col">
          <p>For more discussion on open source and the role of the CIO in the enterprise, join us at The EnterprisersProject.com.</p>
          <p>The opinions expressed on this website are those of each author, not of the author's employer or of Red Hat.</p>
          <p>Opensource.com aspires to publish all content under a Creative Commons license but may not be able to do so in all cases. You are responsible for ensuring that you have the necessary permission to reuse any work on this site. Red Hat and the Red Hat logo are trademarks of Red Hat, Inc., registered in the United States and other countries.</p>
          <p>Copyright ©2021 Red Hat, Inc.</p>
        </div>
        <div class="pfe-l-grid__item pfe-m-2-col">
          <div class="pfe-l-bullseye">
            <img alt="" src="https://opensource.com/sites/all/themes/opensource/images/footer_logo.svg" style="zoom: 2">
          </div>
        </div>
      </div>
    </pfe-band>
  </footer>
</body>
</html>